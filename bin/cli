#!/bin/bash
set -eo pipefail

helpers="$(dirname $0)/helpers"
source "${helpers}/root"

cli="${root}/tools/cli"
tsnode="${cli}/node_modules/.bin/ts-node"

if [[ ! -f "${tsnode}" ]]; then
  cd "${root}"
  yarn install --frozen-lockfile
fi

$tsnode --transpile-only --project "${root}/tsconfig.json" "${cli}/run" "$@"
